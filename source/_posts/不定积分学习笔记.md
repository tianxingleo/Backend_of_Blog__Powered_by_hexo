---
title: 不定积分学习笔记
date: 2025-11-24 20:00:32
tags:
  - 高数
  - 积分
  - 不定积分
---

# 不定积分公式

#### 1. 基础函数积分



$$\int k \, dx = kx + C$$

$$\int x^a \, dx = \frac{x^{a+1}}{a+1} + C \quad (a \neq -1)$$

$$\int \frac{1}{x} \, dx = \ln|x| + C$$

$$\int a^x \, dx = \frac{a^x}{\ln a} + C$$

$$\int \frac{1}{1+x^2} \, dx = \arctan x + C$$

$$\int \frac{1}{\sqrt{1-x^2}} \, dx = \arcsin x + C$$

------



#### 2. 三角函数积分（基础组）



$$\int \cos x \, dx = \sin x + C$$

$$\int \sin x \, dx = -\cos x + C$$

$$\int \sec^2 x \, dx = \tan x + C$$

$$\int \csc^2 x \, dx = -\cot x + C$$

$$\int \sec x \tan x \, dx = \sec x + C$$

$$\int \csc x \cot x \, dx = -\csc x + C$$

------



#### 3. 三角函数积分（对数型）



$$\int \tan x \, dx = -\ln|\cos x| + C$$

$$\int \cot x \, dx = \ln|\sin x| + C$$

$$\int \sec x \, dx = \ln|\sec x + \tan x| + C$$

$$\int \csc x \, dx = \ln|\csc x - \cot x| + C$$

------



#### 4. 含参数 $a$ 的重要积分（进阶组）



**反正切推广（有系数）：**

$$\int \frac{dx}{x^2 + a^2} = \frac{1}{a} \arctan \frac{x}{a} + C$$

**反正弦推广（无系数）：**

$$\int \frac{dx}{\sqrt{a^2 - x^2}} = \arcsin \frac{x}{a} + C$$

**“长对数”公式：**

$$\int \frac{dx}{\sqrt{x^2 \pm a^2}} = \ln|x + \sqrt{x^2 \pm a^2}| + C$$

**平方差分式（有理函数）：**

$$\int \frac{1}{a^2 - x^2} \, dx = \frac{1}{2a} \ln \left| \frac{a+x}{a-x} \right| + C$$



# 不定积分的“拆项（加一个减一个）”技巧

#### 1. 核心口诀



> **“抄分母，加一个减一个”**

- **含义**：观察分母中的项（例如 $x^2+1$ 和 $x^2$），在分子上构造出这些项的差，从而把 $1$ 变成 $(1+x^2) - x^2$。



#### 2. 适用场景



- 当被积函数是**有理分式** ($\frac{1}{P(x)Q(x)}$)。
- 分子是常数（通常是 1）。
- 分母中的两个因式只相差一个单项式（例如 $x^2$ 和 $1+x^2$ 相差 $x^2$；或者 $x$ 和 $1+x$）。



#### 3. 解题逻辑推导



这道题运用了两次拆分技巧，像“剥洋葱”一样把复杂分式化简。

**第一步：初次拆分**

- **目标**：消去分母中复杂的 $(x^2+1)$ 或 $x^4$。

- **操作**：将分子 $1$ 变为 $(1+x^2) - x^2$。

  $$  \frac{1}{x^4(x^2+1)} = \frac{(1+x^2) - x^2}{x^4(x^2+1)} = \frac{1+x^2}{x^4(1+x^2)} - \frac{x^2}{x^4(1+x^2)}$$

- **结果**：$\frac{1}{x^4} - \frac{1}{x^2(1+x^2)}$

**第二步：再次拆分（递归使用）**

- 对于剩下的难点 $\frac{1}{x^2(1+x^2)}$，再次使用同一种方法。

- **操作**：将分子 $1$ 再次变为 $(1+x^2) - x^2$。

  $$  \frac{1}{x^2(1+x^2)} = \frac{(1+x^2) - x^2}{x^2(1+x^2)} = \frac{1}{x^2} - \frac{1}{1+x^2}$$

**第三步：合并积分项**

- 注意符号的变化（减去整个第二步的结果）：

  $$  原式 = \int \frac{1}{x^4} dx - \left( \int \frac{1}{x^2} dx - \int \frac{1}{1+x^2} dx \right)$$

  $$  = \int x^{-4} dx - \int x^{-2} dx + \int \frac{1}{1+x^2} dx$$



#### 4. 技巧优势



- **速度快**：不需要列方程组求解 A, B, C, D。
- **直观**：利用代数恒等变形，直接利用基本积分公式。



# $\int \tan^2 x dx$ 的解法

#### 1. 核心难点

- 在基本积分表（公式表）中，**没有**直接针对 $\tan^2 x$ 的积分公式。
- **破局点**：我们需要把它变形为基本积分表中存在的形式。我们知道 $(\tan x)' = \sec^2 x$，所以 $\sec^2 x$ 是可以直接积分的。

#### 2. 关键公式推导（笔记右上角红色部分）

如果不记得直接的变换公式，可以从最基础的勾股定理推导：

1. **基础公式**：$\sin^2 x + \cos^2 x = 1$

2. **变形操作**：等式两边同时除以 $\cos^2 x$

3. 得到恒等式：

   $$\tan^2 x + 1 = \sec^2 x$$

   即：

   $$\tan^2 x = \sec^2 x - 1$$

#### 3. 解题步骤

利用上述恒等式，将被积函数进行替换：

$$\begin{aligned} I &= \int \tan^2 x \, dx \\ &= \int (\sec^2 x - 1) \, dx \quad \text{（代换）}\\ &= \int \sec^2 x \, dx - \int 1 \, dx \quad \text{（拆分）}\\ &= \tan x - x + C \end{aligned}$$

------



### 💡 技巧总结：三角函数的“降维打击”



- **适用场景**：当你遇到 $\tan^2 x$ 或者 $\cot^2 x$ 的积分时，永远优先考虑**“加1减1”**的恒等变形。
  - 对于 $\tan^2 x$，用 $\sec^2 x - 1$。
  - 对于 $\cot^2 x$，用 $\csc^2 x - 1$。



# 三角代换 (去根号神器)

#### 1. 核心思想

利用三角函数的平方关系（如 $\sin^2+\cos^2=1$），消去根号。

- **口诀**：见到根号 $a^2 \pm x^2$，以此代换去根号。

#### 2. 三种标准代换形式

| **根式形式**           | **令 x= (代换公式)** | **辅助三角形**         | **消除根号后的结果**        |
| ---------------------- | -------------------- | ---------------------- | --------------------------- |
| **$\sqrt{a^2 - x^2}$** | **$a \sin t$**       | 对应 $\sin, \cos$ 关系 | **$a \cos t$**              |
| **$\sqrt{x^2 + a^2}$** | **$a \tan t$**       | 对应 $\tan, \sec$ 关系 | **$a \sec t$**              |
| **$\sqrt{x^2 - a^2}$** | **$a \sec t$**       | 对应 $\sec, \tan$ 关系 | **$a \tan t$** (需注意符号) |

> **注意**：公式中的 $a > 0$。



### 🔍 笔记中的关键细节 (手写批注解读)

#### 1. 关于 $\sqrt{a^2 - x^2}$ (正弦代换)

- 变换过程：

  $$\sqrt{a^2 - a^2\sin^2 t} = \sqrt{a^2(1-\sin^2 t)} = \sqrt{a^2 \cos^2 t} = a \cos t$$

- 定义域限制 ($t$ 的范围)：

  $$t \in \left[ -\frac{\pi}{2}, \frac{\pi}{2} \right]$$

  - **为什么要限制？** 为了保证函数单调可导，且在这个区间内 $\cos t \ge 0$，所以开根号后不需要加绝对值，即 $\sqrt{\cos^2 t} = |\cos t| = \cos t$。

- 反解公式：

  $$\sin t = \frac{x}{a} \implies t = \arcsin \frac{x}{a}$$

#### 2. 关于 $\sqrt{x^2 + a^2}$ (正切代换)

- 变换过程：

  $$\sqrt{a^2 \tan^2 t + a^2} = \sqrt{a^2(\tan^2 t + 1)} = a \sec t$$

- 定义域限制：

  $$t \in \left( -\frac{\pi}{2}, \frac{\pi}{2} \right)$$

  - 此处为开区间，因为 $\tan t$ 在 $\pm \frac{\pi}{2}$ 处无定义。在这个区间 $\sec t > 0$。

#### 3. 关于 $\sqrt{x^2 - a^2}$ (正割代换) —— **难点与易错点**

- 变换过程：

  $$\sqrt{a^2 \sec^2 t - a^2} = \sqrt{a^2(\sec^2 t - 1)} = \sqrt{a^2 \tan^2 t} = a |\tan t|$$

- 手写重点（绝对值讨论）：

  这里笔记特别指出，开根号出来其实是绝对值 $a|\tan t|$。

  - 当 $t \in [0, \frac{\pi}{2})$ 时，$\tan t > 0$，结果为 **$a \tan t$**。
  - 当 $t \in (\frac{\pi}{2}, \pi]$ 时，$\tan t < 0$，结果为 **$-a \tan t$**。
  - *注：通常考研或大一数学题中，为了简化计算，大多情况落在第一象限，直接取正即可，但严谨的定义必须讨论符号。*



# 积分中的“拆项抵消法”

这是一道利用 **分部积分** 进行 **互相抵消** 的经典题目。

#### 1. 题目全貌

$$\int \frac{xe^x}{(x+1)^2} dx$$

#### 2. 解题三部曲

**第一步：凑项拆分（分子变形）**

- **观察**：分母是 $(x+1)^2$，分子只有 $x$。为了能约分，我们在分子上“凑”出 $(x+1)$。

- 操作：将 $x$ 写成 $(x+1) - 1$。

  $$\text{原式} = \int \frac{(x+1)-1}{(x+1)^2} e^x dx$$

- 结果：拆成两项积分。

  $$= \underbrace{\int \frac{e^x}{x+1} dx}_{\text{积分A}} - \underbrace{\int \frac{e^x}{(x+1)^2} dx}_{\text{积分B}}$$

> **此时的心态**：这两个积分如果单独算，都算不出来（因为它们属于积不出初等函数的类型）。但别急，它们之间肯定有关系。

**第二步：凑微分（重点！）**

- **观察**：积分 B 中的 $\frac{1}{(x+1)^2}$ 其实是 $-\frac{1}{x+1}$ 的导数。

- **公式**：

  $$-\frac{1}{u^2} du = d\left(\frac{1}{u}\right)$$

- 变形：将积分 B 中的 $-\frac{1}{(x+1)^2} dx$ 变成 $d(\frac{1}{x+1})$。

  $$-\int \frac{e^x}{(x+1)^2} dx = +\int e^x d\left(\frac{1}{x+1}\right)$$

  (注意：这一步把减号吸收到微分里去了，变成了加号)

**第三步：分部积分与抵消**

- 对变形后的积分 B 使用分部积分法 $\int u dv = uv - \int v du$：

  - 令 $u = e^x$， $dv = d(\frac{1}{x+1})$

  - 则 $v = \frac{1}{x+1}$

  - 展开得到：

    $$\int e^x d\left(\frac{1}{x+1}\right) = e^x \cdot \frac{1}{x+1} - \int \frac{1}{x+1} d(e^x)$$

  - 因为 $d(e^x) = e^x dx$，所以这一项变成了：

    $$- \int \frac{e^x}{x+1} dx$$

- 见证奇迹的时刻：将结果代回原式。

  $$\text{原式} = \underbrace{\int \frac{e^x}{x+1} dx}_{\text{积分A}} + \left( \frac{e^x}{x+1} - \underbrace{\int \frac{e^x}{x+1} dx}_{\text{积分A的克星}} \right)$$

- 最终结果：首尾两项积分一正一负，互相抵消，只剩下中间部分。

  $$= \frac{e^x}{x+1} + C$$



### 💡 技巧总结：抵消模型

这种题型被称为 **“无中生有，自相残杀”**，其背后的数学原理是一个重要结论：

$$\int e^x [f(x) + f'(x)] dx = e^x f(x) + C$$

- **在本题中**：
  - $f(x) = \frac{1}{x+1}$
  - $f'(x) = -\frac{1}{(x+1)^2}$
- 题目一开始给出的 $\frac{x}{(x+1)^2}$ 其实就是 $\frac{1}{x+1} - \frac{1}{(x+1)^2}$，也就是 $f(x) + f'(x)$ 的形式。
- **做题策略**：遇到 $e^x$ 乘以复杂分式，试着把分式拆开，对其中一项分部积分，看看能不能抵消掉另一项。
